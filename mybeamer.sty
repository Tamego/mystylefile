\usetheme[
  progressbar=foot,
  numbering=fraction,
  sectionpage=none,
  subsectionpage=progressbar
]{metropolis}
\usepackage{mystylefile/beamercolorthemeCatppuccin}

\makeatletter
\newcommand{\emphcolor}{Cat\beamer@catppuccintheme@style Sapphire}
\setbeamercolor{structure}{
  fg=\emphcolor
}
\setbeamercolor{frametitle}{
  fg=Cat\beamer@catppuccintheme@style Base,
  bg=\emphcolor
}

\setlength{\metropolis@progressinheadfoot@linewidth}{2pt}
\makeatother

\usepackage{luatexja-fontspec, unicode-math}
\setmainjfont{GenEi M Gothic v2}[
UprightFont={*-Regular},
BoldFont={*-Bold},
Scale=0.9,
]
\setmainfont{Fira Sans}[
UprightFont={*-Regular},
BoldFont={*-SemiBold}
]
\setmonofont{Fira Code}
\setmonojfont{GenEi Mono Code}
\setmathfont{Fira Math}
\usefonttheme{serif}

\usepackage{datetime2}

\RenewDocumentCommand\emph{ m }{{\usebeamercolor[fg]{structure}\bfseries #1}}

\usepackage{makeidx}
\makeindex

\newenvironment{theindex}
{\let\item\par
  %definitions for subitem etc
}{}
\newcommand\indexspace{}

\NewDocumentCommand\newword{ m }{\index{#1}\emph{#1}}

\usepackage{listings}
\lstset{
  language=TeX,
  basicstyle=\ttfamily
}
\lstMakeShortInline[columns=fixed]|
